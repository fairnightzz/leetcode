I just did BFS to make sure there are no cycles and that all components are connected.

An easier method with graph theory would be to check the edges since there are n-1 edges and make sure that the nodes are all connected.